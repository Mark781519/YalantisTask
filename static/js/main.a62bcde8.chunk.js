(this["webpackJsonpyalantis-app"]=this["webpackJsonpyalantis-app"]||[]).push([[0],{31:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){"use strict";c.r(t);var r=c(2),n=c.n(r),a=c(23),s=c.n(a),i=(c(31),c(7)),j=c(14),l=c(5),o=c(13),b=c.n(o),u=c(24),O=c(25),d=c.n(O);function h(){return(h=Object(u.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({method:"get",url:"https://yalantis-react-school-api.yalantis.com/api/task0/users"});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var m=function(){return h.apply(this,arguments)};var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=c.serialize,a=void 0===n?JSON.stringify:n,s=c.desirialize,j=void 0===s?JSON.parse:s,l=Object(r.useState)((function(){var c=localStorage.getItem(e);return c?j(c):"function"===typeof t?t():t})),o=Object(i.a)(l,2),b=o[0],u=o[1],O=Object(r.useRef)(e);return Object(r.useEffect)((function(){var t=O.current;t!==e&&localStorage.removeItem(t),O.current=e,localStorage.setItem(e,a(b))}),[b,e,a]),[b,u]},v=c(0),p=Object(r.createContext)(),f=Object(r.createContext)(),g={activeList:[],employeesList:[],loading:!0,error:!1};function y(e,t){switch(t.type){case"showEmployees":return Object(l.a)(Object(l.a)({},e),{},{employeesList:t.data,loading:!1});case"getDataFromCache":return Object(l.a)(Object(l.a)({},e),{},{activeList:t.cachedData});case"catchError":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:!0});case"toggleActive":return Object(l.a)(Object(l.a)({},e),{},{activeList:e.activeList.includes(t.value)?Object(j.a)(e.activeList):[t.value].concat(Object(j.a)(e.activeList))});case"toggleNotActive":return Object(l.a)(Object(l.a)({},e),{},{activeList:e.activeList.filter((function(e){return e.id!==t.value.id}))});default:throw Error("something went wrong")}}var N=function(e){var t=e.children,c=Object(r.useReducer)(y,g),n=Object(i.a)(c,2),a=n[0],s=n[1];return Object(v.jsx)(p.Provider,{value:a,children:Object(v.jsx)(f.Provider,{value:s,children:t})})},w=function(){var e=Object(r.useContext)(p);if(!e)throw Error("useAppContext must be called within AppContext");return e},L=function(){var e=Object(r.useContext)(f);if(!e)throw Error("useDispatchContext must be called within AppContext");return e},_=c(55),C=c(57),A=c(56),E=function(e){var t=e.employee,c=function(){var e=L();return function(t){e({type:"toggleActive",value:t})}}(),r=function(){var e=L();return function(t){e({type:"toggleNotActive",value:t})}}(),n=w().activeList.map((function(e){return e.id})).includes(t.id);return Object(v.jsxs)("div",{className:"employee",children:[Object(v.jsxs)("div",{className:n?"fullName_active":"fullName_not-active",children:[t.firstName," ",t.lastName]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("input",{type:"radio",id:"not-active",checked:!n,onChange:function(){return r(t)}}),Object(v.jsx)("label",{className:"radio_label",htmlFor:"not-active",children:"not active"})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("input",{type:"radio",id:"active",checked:n,onChange:function(){return c(t)}}),Object(v.jsx)("label",{className:"radio_label",htmlFor:"active",children:"active"})]})]})},D=Object(_.a)([Object(C.a)(Object(A.a)("firstName"))]),k=function(e){var t=e.letter,c=w().employeesList.filter((function(e){return e.firstName.toLowerCase().substr(0,1)===t.toLowerCase()}));return Object(v.jsxs)("div",{className:"letter_container",children:[Object(v.jsx)("div",{className:"letter",children:t}),c.length>0?Object(v.jsx)("div",{className:c.length>6?"letter_block_withScroll":"letter_block",children:D(c).map((function(e){return Object(v.jsx)(E,{employee:e},e.id)}))}):Object(v.jsx)("div",{className:"letter_block",children:Object(v.jsx)("p",{children:"No Employees"})})]})},S=function(){var e=w();return Object(v.jsx)(v.Fragment,{children:e.error?Object(v.jsx)("p",{children:"Something went wrong...."}):Object(v.jsxs)("div",{className:"employees_block",children:[Object(v.jsx)(k,{letter:"A"}),Object(v.jsx)(k,{letter:"B"}),Object(v.jsx)(k,{letter:"C"}),Object(v.jsx)(k,{letter:"D"}),Object(v.jsx)(k,{letter:"E"}),Object(v.jsx)(k,{letter:"F"}),Object(v.jsx)(k,{letter:"G"}),Object(v.jsx)(k,{letter:"H"}),Object(v.jsx)(k,{letter:"I"}),Object(v.jsx)(k,{letter:"J"}),Object(v.jsx)(k,{letter:"K"}),Object(v.jsx)(k,{letter:"L"}),Object(v.jsx)(k,{letter:"M"}),Object(v.jsx)(k,{letter:"N"}),Object(v.jsx)(k,{letter:"O"}),Object(v.jsx)(k,{letter:"P"}),Object(v.jsx)(k,{letter:"Q"}),Object(v.jsx)(k,{letter:"R"}),Object(v.jsx)(k,{letter:"S"}),Object(v.jsx)(k,{letter:"T"}),Object(v.jsx)(k,{letter:"U"}),Object(v.jsx)(k,{letter:"V"}),Object(v.jsx)(k,{letter:"W"}),Object(v.jsx)(k,{letter:"X"}),Object(v.jsx)(k,{letter:"Y"}),Object(v.jsx)(k,{letter:"Z"})]})})},F=Object(_.a)([Object(C.a)(Object(A.a)("lastName"))]),J=["January","February","March","April","May","June","July","August","September","October","November","December"],M={month:"long"},I=function(e){var t=new Date(e);return t.getDate()+" "+t.toLocaleString("en-US",M)+","+t.getFullYear()+" year"},B=function(e){var t=e.month,c=w().activeList.filter((function(e){return new Date(e.dob).getMonth()===t}));return Object(v.jsxs)("div",{className:"month",children:[Object(v.jsx)("div",{className:"month_name",children:J[t]}),c.length>0?Object(v.jsx)(v.Fragment,{children:F(c).map((function(e){return Object(v.jsxs)("div",{className:"month_block",children:[Object(v.jsx)("div",{className:"month-circle"}),e.firstName," ",e.lastName," - ",I(e.dob)]},e.id)}))}):Object(v.jsx)("div",{className:"month_empty_block",children:"No employees"})]})},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date,c=t.setMonth(t.getMonth()+e);return new Date(c).getMonth()},P=function(){var e=w();return Object(v.jsx)("div",{className:"months_of_birth",children:e.activeList.length>0?Object(v.jsxs)("div",{children:[Object(v.jsx)(B,{month:H()}),Object(v.jsx)(B,{month:H(1)}),Object(v.jsx)(B,{month:H(2)}),Object(v.jsx)(B,{month:H(3)}),Object(v.jsx)(B,{month:H(4)}),Object(v.jsx)(B,{month:H(5)}),Object(v.jsx)(B,{month:H(6)}),Object(v.jsx)(B,{month:H(7)}),Object(v.jsx)(B,{month:H(8)}),Object(v.jsx)(B,{month:H(9)}),Object(v.jsx)(B,{month:H(10)}),Object(v.jsx)(B,{month:H(11)})]}):Object(v.jsx)("div",{className:"month",children:"Employees List is empty"})})},R=(c(52),function(){var e=w(),t=function(){var e=L(),t=x("CACHED_DATA"),c=Object(i.a)(t,1)[0];return Object(r.useCallback)((function(){return m().then((function(t){Array.isArray(t)?(e({type:"showEmployees",data:t}),c&&e({type:"getDataFromCache",cachedData:c})):e({type:"catchError"})}))}),[c,e])}(),c=x("CACHED_DATA"),n=Object(i.a)(c,2)[1];return Object(r.useEffect)((function(){n(e.activeList)}),[n,e]),Object(r.useEffect)((function(){t()}),[t]),Object(v.jsxs)("div",{className:"employees_container",children:[Object(v.jsxs)("div",{className:"employees_list",children:[Object(v.jsx)("div",{className:"header",children:"Employees"}),e.loading?Object(v.jsx)("p",{children:"Loading..."}):Object(v.jsx)(S,{})]}),Object(v.jsxs)("div",{className:"birthday_list",children:[Object(v.jsx)("div",{className:"header",children:"Employees Birtday"}),Object(v.jsx)(P,{})]})]})}),T=(c(53),function(){return Object(v.jsx)(N,{children:Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(R,{})})})});s.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(T,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.a62bcde8.chunk.js.map